2019/07/24 21:31:18 [notice] 12532#12548: using the "select" event method
2019/07/24 21:31:18 [notice] 12532#12548: openresty/1.15.8.1
2019/07/24 21:31:18 [info] 12532#12548: OS: 300000 build:17134, "", suite:100, type:1
2019/07/24 21:31:18 [notice] 12532#12548: start worker processes
2019/07/24 21:31:18 [notice] 12532#12548: start worker process 13692
2019/07/24 21:31:18 [notice] 13692#7952: openresty/1.15.8.1
2019/07/24 21:31:18 [info] 13692#7952: OS: 300000 build:17134, "", suite:100, type:1
2019/07/24 21:31:18 [notice] 13692#7952: create thread 2988
2019/07/24 21:31:18 [notice] 13692#7952: create thread 14136
2019/07/24 21:31:18 [notice] 13692#7952: create thread 14152
2019/07/24 21:31:23 [notice] 13692#2988: *1 [lua] rewrite_by_lua(nginx.conf:81):2: nil, client: 127.0.0.1, server: , request: "GET /across_stage_test HTTP/1.1", host: "127.0.0.1:8080"
2019/07/24 21:31:23 [notice] 13692#2988: *1 [lua] log_by_lua(nginx.conf:90):2: ngx.ctx.foo1: 79 while logging request, client: 127.0.0.1, server: , request: "GET /across_stage_test HTTP/1.1", host: "127.0.0.1:8080"
2019/07/24 21:31:39 [info] 13692#2988: *2 client closed connection while waiting for request, client: 127.0.0.1, server: 0.0.0.0:8080
2019/07/24 21:31:39 [notice] 13692#2988: *1 [lua] rewrite_by_lua(nginx.conf:81):2: nil, client: 127.0.0.1, server: , request: "GET /across_stage_test HTTP/1.1", host: "127.0.0.1:8080"
2019/07/24 21:31:39 [notice] 13692#2988: *1 [lua] log_by_lua(nginx.conf:90):2: ngx.ctx.foo1: 79 while logging request, client: 127.0.0.1, server: , request: "GET /across_stage_test HTTP/1.1", host: "127.0.0.1:8080"
2019/07/24 21:31:51 [info] 13692#2988: *3 client closed connection while waiting for request, client: 127.0.0.1, server: 0.0.0.0:8080
2019/07/24 21:35:32 [notice] 12532#12548: reconfiguring
2019/07/24 21:35:32 [alert] 12532#12548: lua_code_cache is off; this will hurt performance in ./conf\nginx.conf:37
2019/07/24 21:35:32 [notice] 12532#12548: using the "select" event method
2019/07/24 21:35:32 [notice] 12532#12548: start worker processes
2019/07/24 21:35:32 [notice] 12532#12548: start worker process 11560
2019/07/24 21:35:32 [notice] 11560#11512: openresty/1.15.8.1
2019/07/24 21:35:32 [info] 11560#11512: OS: 300000 build:17134, "", suite:100, type:1
2019/07/24 21:35:32 [notice] 11560#11512: create thread 13428
2019/07/24 21:35:32 [notice] 13692#7952: gracefully shutting down
2019/07/24 21:35:32 [notice] 11560#11512: create thread 7628
2019/07/24 21:35:32 [notice] 11560#11512: create thread 7712
2019/07/24 21:35:32 [notice] 13692#14136: exiting
2019/07/24 21:35:33 [notice] 13692#2988: exiting
2019/07/24 21:35:33 [notice] 13692#7952: exit
2019/07/24 21:35:33 [notice] 12532#12548: worker process 13692 exited with code 0
2019/07/24 21:35:58 [info] 11560#13428: *5 client closed connection while waiting for request, client: 127.0.0.1, server: 0.0.0.0:8080
2019/07/24 21:36:36 [info] 11560#13428: *6 client closed connection while waiting for request, client: 127.0.0.1, server: 0.0.0.0:8080
2019/07/24 21:36:49 [info] 11560#13428: *7 client closed connection while waiting for request, client: 127.0.0.1, server: 0.0.0.0:8080
2019/07/24 21:36:57 [error] 11560#13428: *4 lua entry thread aborted: runtime error: ./lua/across_stage_test2.lua:16: attempt to index global 'ngx_ctx' (a nil value)
stack traceback:
coroutine 0:
	./lua/across_stage_test2.lua: in main chunk, client: 127.0.0.1, server: , request: "GET /across_stage_test2 HTTP/1.1", host: "127.0.0.1:8080"
2019/07/24 21:36:58 [error] 11560#13428: *8 lua entry thread aborted: runtime error: ./lua/across_stage_test2.lua:16: attempt to index global 'ngx_ctx' (a nil value)
stack traceback:
coroutine 0:
	./lua/across_stage_test2.lua: in main chunk, client: 127.0.0.1, server: , request: "GET /across_stage_test2 HTTP/1.1", host: "127.0.0.1:8080"
2019/07/24 21:37:18 [info] 11560#13428: *9 client closed connection while waiting for request, client: 127.0.0.1, server: 0.0.0.0:8080
2019/07/24 21:37:31 [info] 11560#13428: *11 client closed connection while waiting for request, client: 127.0.0.1, server: 0.0.0.0:8080
2019/07/24 21:50:20 [error] 11560#13428: *12 CreateFile() "./html/api_var_scope_module_test" failed (3: The system cannot find the path specified), client: 127.0.0.1, server: , request: "GET /api_var_scope_module_test HTTP/1.1", host: "127.0.0.1:8080"
2019/07/24 21:50:31 [info] 11560#13428: *13 client closed connection while waiting for request, client: 127.0.0.1, server: 0.0.0.0:8080
2019/07/24 21:50:47 [error] 11560#13428: *12 CreateFile() "./html/api_var_scope_module_test" failed (3: The system cannot find the path specified), client: 127.0.0.1, server: , request: "GET /api_var_scope_module_test HTTP/1.1", host: "127.0.0.1:8080"
2019/07/24 21:50:48 [error] 11560#13428: *12 CreateFile() "./html/api_var_scope_module_test" failed (3: The system cannot find the path specified), client: 127.0.0.1, server: , request: "GET /api_var_scope_module_test HTTP/1.1", host: "127.0.0.1:8080"
2019/07/24 21:51:01 [info] 11560#13428: *14 client closed connection while waiting for request, client: 127.0.0.1, server: 0.0.0.0:8080
2019/07/24 21:51:09 [warn] 11560#13428: *12 [lua] _G write guard:12: __newindex(): writing a global lua variable ('get_age') which may lead to race conditions between concurrent requests, so prefer the use of 'local' variables
stack traceback:
	.//lua/api/api_var_scope_module.lua:10: in main chunk
	[C]: in function 'require'
	./lua/api/api_var_scope_module_test.lua:2: in main chunk, client: 127.0.0.1, server: , request: "GET /api/api_var_scope_module_test HTTP/1.1", host: "127.0.0.1:8080"
2019/07/24 21:51:09 [error] 11560#13428: *12 lua entry thread aborted: runtime error: ./lua/api/api_var_scope_module_test.lua:4: attempt to call field 'get_age' (a nil value)
stack traceback:
coroutine 0:
	./lua/api/api_var_scope_module_test.lua: in main chunk, client: 127.0.0.1, server: , request: "GET /api/api_var_scope_module_test HTTP/1.1", host: "127.0.0.1:8080"
2019/07/24 21:51:09 [notice] 11560#13428: *12 [lua] info.lua:9: afsfsdxxxx while logging request, client: 127.0.0.1, server: , request: "GET /api/api_var_scope_module_test HTTP/1.1", host: "127.0.0.1:8080"
2019/07/24 21:51:21 [info] 11560#13428: *15 client closed connection while waiting for request, client: 127.0.0.1, server: 0.0.0.0:8080
2019/07/24 21:51:56 [error] 11560#13428: *16 lua entry thread aborted: runtime error: .//lua/api/api_var_scope_module.lua:14: attempt to index global 'data' (a nil value)
stack traceback:
coroutine 0:
	.//lua/api/api_var_scope_module.lua: in function 'get_age'
	./lua/api/api_var_scope_module_test.lua:4: in main chunk, client: 127.0.0.1, server: , request: "GET /api/api_var_scope_module_test HTTP/1.1", host: "127.0.0.1:8080"
2019/07/24 21:51:56 [notice] 11560#13428: *16 [lua] info.lua:9: afsfsdxxxx while logging request, client: 127.0.0.1, server: , request: "GET /api/api_var_scope_module_test HTTP/1.1", host: "127.0.0.1:8080"
2019/07/24 21:51:57 [error] 11560#13428: *17 lua entry thread aborted: runtime error: .//lua/api/api_var_scope_module.lua:14: attempt to index global 'data' (a nil value)
stack traceback:
coroutine 0:
	.//lua/api/api_var_scope_module.lua: in function 'get_age'
	./lua/api/api_var_scope_module_test.lua:4: in main chunk, client: 127.0.0.1, server: , request: "GET /api/api_var_scope_module_test HTTP/1.1", host: "127.0.0.1:8080"
2019/07/24 21:51:57 [notice] 11560#13428: *17 [lua] info.lua:9: afsfsdxxxx while logging request, client: 127.0.0.1, server: , request: "GET /api/api_var_scope_module_test HTTP/1.1", host: "127.0.0.1:8080"
2019/07/24 21:52:12 [info] 11560#13428: *18 client closed connection while waiting for request, client: 127.0.0.1, server: 0.0.0.0:8080
2019/07/24 21:52:23 [notice] 11560#13428: *19 [lua] info.lua:9: afsfsdxxxx while logging request, client: 127.0.0.1, server: , request: "GET /api/api_var_scope_module_test HTTP/1.1", host: "127.0.0.1:8080"
2019/07/24 21:52:32 [notice] 11560#13428: *19 [lua] info.lua:9: afsfsdxxxx while logging request, client: 127.0.0.1, server: , request: "GET /api/api_var_scope_module_test HTTP/1.1", host: "127.0.0.1:8080"
2019/07/24 21:52:38 [info] 11560#13428: *20 client closed connection while waiting for request, client: 127.0.0.1, server: 0.0.0.0:8080
2019/07/24 21:52:38 [notice] 11560#13428: *19 [lua] info.lua:9: afsfsdxxxx while logging request, client: 127.0.0.1, server: , request: "GET /api/api_var_scope_module_test HTTP/1.1", host: "127.0.0.1:8080"
2019/07/24 21:52:54 [info] 11560#13428: *21 client closed connection while waiting for request, client: 127.0.0.1, server: 0.0.0.0:8080
2019/07/24 21:53:53 [notice] 11560#13428: *22 [lua] info.lua:9: afsfsdxxxx while logging request, client: 127.0.0.1, server: , request: "GET /api/api_var_scope_module_test HTTP/1.1", host: "127.0.0.1:8080"
2019/07/24 21:54:04 [info] 11560#13428: *23 client closed connection while waiting for request, client: 127.0.0.1, server: 0.0.0.0:8080
2019/07/24 22:25:43 [notice] 14280#10412: using the "select" event method
2019/07/24 22:25:43 [notice] 14280#10412: openresty/1.15.8.1
2019/07/24 22:25:43 [info] 14280#10412: OS: 300000 build:17134, "", suite:100, type:1
2019/07/24 22:25:43 [notice] 14280#10412: start worker processes
2019/07/24 22:25:43 [notice] 14280#10412: start worker process 2660
2019/07/24 22:25:43 [notice] 2660#4120: openresty/1.15.8.1
2019/07/24 22:25:43 [info] 2660#4120: OS: 300000 build:17134, "", suite:100, type:1
2019/07/24 22:25:43 [notice] 2660#4120: create thread 12580
2019/07/24 22:25:43 [notice] 2660#4120: create thread 13596
2019/07/24 22:25:43 [notice] 2660#4120: create thread 12280
2019/07/24 22:26:04 [info] 2660#12580: *2 client closed connection while waiting for request, client: 127.0.0.1, server: 0.0.0.0:8080
